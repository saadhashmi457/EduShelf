<!DOCTYPE html>
 {% load static %}
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Auth - EduShelf</title>
  <script src="https://cdn.tailwindcss.com"></script>

<link href="{% static 'css/output.css' %}" rel="stylesheet">

  <style>
     .fade-in {
        opacity: 0;
        transform: translateY(20px);
        animation: fadeIn 1.2s forwards;
      }

      @keyframes fadeIn {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes fadeUp {
  from {
    opacity: 0;
    transform: translateY(15px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-signup {
  animation: fadeUp 0.4s ease-out;
}


    .glass-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.15);
    }
    .fade-slide {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.5s ease, transform 0.5s ease;
    }
    .fade-slide.active {
      opacity: 1;
      transform: translateY(0);
    }
    input:focus, select:focus {
      box-shadow: 0 0 8px #3b82f6;
    }
  </style>
</head>


<body class="min-h-screen flex items-center justify-center bg-gradient-to-br from-[#1f242d] to-gray-900 text-white font-sans">





  <!-- Auth Card -->
  <div class=" my-20 glass-card w-full max-w-lg p-8 rounded-2xl  animate-section fade-in shadow-2xl transition-transform duration-200 hover:ring hover:ring-cyan-700 hover:ring-opacity-60">
    <!-- Tabs -->

    {% if messages %}
  <ul>
    {% for message in messages %}
      <li class="{% if message.tags %}{{ message.tags }}{% endif %} text-center text-green-500">{{ message }}</li>
    {% endfor %}
  </ul>
{% endif %}




    <div class="flex justify-around mb-6 border-b border-gray-600">
      <button id="loginTab" class="pb-2 border-b-2 border-transparent  hover:border-blue-400 hover:text-blue-300 font-semibold text-blue-400">Login</button>
      <button id="signupTab" class="pb-2 border-b-2 border-transparent hover:border-blue-400 hover:text-blue-300">Signup</button>
    </div>

    <!-- Login Form -->
    <form  method="POST" action="{% url 'login' %}" id="loginForm" class="fade-slide active space-y-4 ">

{% csrf_token %}
      <div>
        <label class="block mb-1 text-sm">Email</label>
        <input type="email" placeholder="Enter your email" name="university_email" class="w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none" required>
      </div>
      <div>
        <label class="block mb-1 text-sm">Password</label>
        <input type="password" placeholder="Enter your password"  name="password" class="w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none" required>
      </div>
      <div class="flex items-center justify-between text-sm">
        <label class="flex items-center space-x-2">
          <input type="checkbox" class="accent-blue-500">
          <span>Remember me</span>
        </label>
        <a href="{% url "password_reset" %}" class="text-blue-400 hover:underline">Forgot password?</a>
      </div>
      <button type="submit" class="w-full py-2 bg-slate-500 hover:bg-slate-700 font-semibold rounded-lg transition transform hover:scale-[1.02]">Login</button>
      <p class="text-sm text-center mt-4 text-gray-300">Donâ€™t have an account? <a href="#" id="switchToSignup" class="text-blue-400 hover:underline">Sign Up</a></p>
    </form>

    <!-- Signup Form -->

   <form  id="signupForm" method="POST" action="{% url 'signup' %}" class="fade-slide space-y-4 hidden animate-signup">
    {% csrf_token %}
  <div class="mt-6">
    <label class="block mb-1 text-sm">Full Name</label>
    <input type="text" placeholder="Enter your name" name="full_name"
      class="w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none" required>
  </div>
  <div>
    <label class="block mb-1 text-sm">Father Name</label>
    <input type="text" placeholder="Enter your father name" name="father_name"
      class="w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none" required>
  </div>
  <div>
    <label class="block mb-1 text-sm">Department</label>
    <input type="text" placeholder="Enter your department" name="department"
      class="w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none" required>
  </div>
  <div>
    <label class="block mb-1 text-sm">University Email</label>
    <input type="email" placeholder="Enter university email"  name="university_email"
      class="w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none" required>
  </div>

<div>
    <label class="block mb-1 text-sm">Whatsapp Number</label>
    <input type="number" placeholder="Enter Whatsapp Number"  name="whatsapp_number"
      class="w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none" required>
  </div>

  <div>
    <label class="block mb-1 text-sm">University Roll Number</label>
    <input type="text" placeholder="Enter your roll number" name="university_roll_no"
      class="w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none" required>
  </div>
  <div>
    <label class="block mb-1 text-sm">Password</label>
    <input type="password" placeholder="Create password" name="password1"
      class="w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none" required>
  </div>
  <div>
    <label class="block mb-1 text-sm">Confirm Password</label>
    <input type="password" placeholder="Confirm password" name="password2"
      class="w-full px-4 py-2 rounded-lg bg-gray-800 border border-gray-700 focus:outline-none" required>
  </div>
  <button type="submit" 
    class="w-full py-2 bg-slate-500 hover:bg-slate-700 rounded-lg transition transform hover:scale-[1.02]">
    Sign Up
  </button>
  <p class="text-sm text-center mt-4 text-gray-300">
    Already have an account? <a href="#" id="switchToLogin" class="text-blue-400 hover:underline">Login</a>
  </p>
</form>


  </div>

  <script>
    const loginTab = document.getElementById("loginTab");
    const signupTab = document.getElementById("signupTab");
    const loginForm = document.getElementById("loginForm");
    const signupForm = document.getElementById("signupForm");

    const switchToSignup = document.getElementById("switchToSignup");
    const switchToLogin = document.getElementById("switchToLogin");

    function showLogin() {
      loginTab.classList.add("border-blue-500", "text-blue-400");
      signupTab.classList.remove("border-blue-500", "text-blue-400");
      signupForm.classList.add("hidden");
      loginForm.classList.remove("hidden");
      loginForm.classList.add("active");
    }

    function showSignup() {
      signupTab.classList.add("border-blue-500", "text-blue-400");
      loginTab.classList.remove("border-blue-500", "text-blue-400");
      loginForm.classList.add("hidden");
      signupForm.classList.remove("hidden");
      signupForm.classList.add("active");
    

   

  // Reset animation
  signupForm.classList.remove("animate-signup");
  void signupForm.offsetWidth; // Trick to restart animation
  signupForm.classList.add("animate-signup");
}


    loginTab.addEventListener("click", showLogin);
    signupTab.addEventListener("click", showSignup);
    switchToSignup.addEventListener("click", (e) => { e.preventDefault(); showSignup(); });
    switchToLogin.addEventListener("click", (e) => { e.preventDefault(); showLogin(); });
  </script>
</body>
</html>
