{% extends "base/base.html" %}
{% load static %}
{% block content %}

<div class="flex justify-center items-center mt-32 mb-12 bg-[#121417]">
  <div class="card w-[95%] max-w-5xl bg-[#1f242d] rounded-3xl shadow-2xl p-10 border border-gray-700 transform transition-all hover:scale-[1.01] hover:shadow-3xl duration-300">

    <!-- Animated Header with Icon -->
    <div class="text-center mb-10">
      <div class="flex justify-center mb-4">
        <i class="fas fa-edit text-teal-400 text-7xl animate-bounce"></i>
      </div>
      <h2 class="text-4xl font-extrabold text-white">Edit Book Details</h2>
      <p class="text-gray-400 mt-2">Update the book information below</p>
    </div>

    <!-- Form -->
    <form method="POST" enctype="multipart/form-data" class="space-y-6">
      {% csrf_token %}

      <!-- 2-Column Form Grid -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        {% for field in form %}
          
          {% if field.name == "cover_image" %}
          <!-- Special styling for cover image input -->
          <div class="col-span-1 md:col-span-2 flex flex-col items-center">
            <label class="mb-2 text-white font-medium">{{ field.label }}</label>
            {{ field }}
            {% if field.errors %}
              <p class="text-red-500 text-sm mt-1">{{ field.errors|striptags }}</p>
            {% endif %}
          </div>
          {% else %}
          <div class="flex flex-col">
            <label class="mb-2 text-white font-medium">{{ field.label }}</label>
            {{ field }}
            {% if field.errors %}
              <p class="text-red-500 text-sm mt-1">{{ field.errors|striptags }}</p>
            {% endif %}
          </div>
          {% endif %}

        {% endfor %}
      </div>

      <!-- Buttons -->
      <div class="flex flex-col sm:flex-row justify-between items-center mt-8 gap-4">
        <button type="submit" 
          class="w-full sm:w-1/2 py-4 px-5 bg-teal-500 text-white font-semibold rounded-2xl shadow-md hover:bg-teal-600 hover:scale-[1.02] transition-all duration-300 flex justify-center items-center gap-3">
          <i class="fas fa-save"></i> Update Book
        </button>

        <a href="{% url 'user_dashboard' %}" 
          class="w-full sm:w-1/2 py-4 px-5 bg-gray-600 text-white font-semibold rounded-2xl shadow-md hover:bg-gray-700 hover:scale-[1.02] transition-all duration-300 flex justify-center items-center gap-3">
          <i class="fas fa-arrow-left"></i> Cancel
        </a>
      </div>
    </form>
  </div>
</div>

<!-- FontAwesome CDN for icons -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

<!-- Tailwind Input Styling -->
<style>
  input, select, textarea {
    background-color: #2a2e38; 
    color: #fff;
    border: 1px solid #555;
    border-radius: 1rem;
    padding: 0.6rem 1rem;
    transition: all 0.3s ease;
    font-size: 1rem;
  }

  /* Special cover image input styling */
  input[type="file"] {
    width: 60%;
    padding: 0.8rem;
    border: 2px solid #fff;
    border-radius: 1rem;
    background-color: #1f242d;
    color: #fff;
    text-align: center;
  }

  input:focus, select:focus, textarea:focus {
    outline: none;
    border-color: #14b8a6;
    box-shadow: 0 0 6px #14b8a6;
    background-color: #1f242d;
  }
  input:hover, select:hover, textarea:hover {
    border-color: #14b8a6;
  }
  label {
    font-size: 1rem;
  }
</style>

{% endblock %}
